{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pocket Job | Find Jobs</title>
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
</head>
<body>

<!-- ================= NAVBAR ================= -->
<header class="navbar">
    <div class="logo">Pocket Job</div>

    <nav>
        <a href="{% url 'home' %}">Home</a>
        <a href="#">Find Employers</a>
        <a href="#">Dashboard</a>
        <a href="#">Job Alerts</a>
        <a href="#">Customer Support</a>
    </nav>

    <div class="profile">
        <span>Nepal</span>
        <span>Saurav Shrestha</span>
    </div>
</header>

<!-- ================= SEARCH SECTION ================= -->
<section class="search-section">
    <form method="GET" action="{% url 'home' %}">
        
        <input 
            type="text" 
            name="q" 
            placeholder="Job title, keyword..."
            value="{{ query|default:'' }}"
        >

        <select name="job_type">
            <option value="All">All Types</option>

            <option value="Part Time" 
                {% if selected_job_type == "Part Time" %}selected{% endif %}>
                Part Time
            </option>

            <option value="Full Time" 
                {% if selected_job_type == "Full Time" %}selected{% endif %}>
                Full Time
            </option>

            <option value="Flexible" 
                {% if selected_job_type == "Flexible" %}selected{% endif %}>
                Flexible
            </option>
        </select>

        <button type="submit">Find Job</button>
    </form>
</section>

<!-- ================= JOB LISTING SECTION ================= -->
<section class="jobs">

    {% for job in jobs %}
    <a href="{% url 'job_detail' job.id %}" class="job-link">
        <div class="job-card {% if job.negotiable %}featured{% endif %}">
            
            <h3>{{ job.title }}</h3>

            <p class="role">{{ job.job_type }}</p>

            <small class="tags">{{ job.tags }}</small>

            <p class="salary">
                {% if job.negotiable %}
                    Salary: <strong>Negotiable</strong>
                {% else %}
                    Salary: <strong>NPR {{ job.min_salary }} â€“ {{ job.max_salary }}</strong>
                {% endif %}
            </p>

            <p class="posted">
                Posted on {{ job.created_at|date:"M d, Y" }}
            </p>

        </div>
    </a>
    {% empty %}
        <p style="padding: 40px;">No jobs available matching your search.</p>
    {% endfor %}

</section>

<!-- ================= PAGINATION (STATIC FOR NOW) ================= -->
<div class="pagination">
    <a href="#">01</a>
    <a href="#">02</a>
    <a href="#">03</a>
</div>

</body>
</html>
